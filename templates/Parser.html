<html>

   <head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-143664123-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-143664123-1');
</script>
<title>
Lokly - Address Intelligence, Indian Address Parser
</title>
   </head>
	<style>
		@import url(https://fonts.googleapis.com/css?family=Roboto);

html {
  scroll-behavior: smooth;
}
	
	
body{

  background-repeat: no-repeat;
  background-attachment: fixed;
  background-position: top;
  background-size: 100% 500px;
  padding:0;
  margin:0;
  background-attachment: fixed;
  font-family: Roboto;
  font-size:120%;
  color:#000000;
}



.search {
  width: 100%;
  position: relative
}

.searchTerm {
  float: center;
  width: 90%;
  padding: 5px;
  height: 40px;
  border-radius: 5px;
  font-weight: bold;
  font-size: bold;
  outline: none;
  color:black;
}

.searchTerm:focus{
  color: #00B4CC;
}

.parseButton {
  position: relative;  
  width: 40%;
  bottom: -30px;
  height: 45px;
  border: 1px solid #00B4CC;
  background: #16B647;
  text-align: center;
  color: #fff;
  border-radius: 5px;
  cursor: pointer;
  font-size: 20px;
}

.resetButton {
  position: relative;  
  width: 40%;
  bottom: -10px;
  height: 36px;
  border: 0px;
  background: #ffffff;
  text-align: center;
  color: #000000;
  border-radius: 5px;
  cursor: pointer;
  font-size: 20px;
}

.loginbarButton {
  position: fixed;  
  right: 8%;
  top:2%;
  padding:0;
  height: 4%;
  border: 0px;
  background: #ffffff;
  text-align: center;
  color: #000000;
  border-radius: 0px;
  cursor: pointer;
  font-size: 16px;
    font-family: 'Roboto';
}

.signupbarButton {
  position: fixed;  
  right: 2%;
  top:2%;
  padding:0;
  height: 4%;
  border: 0px;
  background: #ffffff;
  text-align: center;
  color: #000000;
  border-radius: 0px;
  cursor: pointer;
  font-size: 16px;
    font-family: 'Roboto';
}


.homebarButton {
  position: fixed;  
  left: 1%;
  top:0%;
  border: 0px;
  background: #ffffff;
  text-align: center;
  color: #000000;
  border-radius: 0px;
  cursor: pointer;
  font-family: 'Roboto';
  font-size: 30px;
  padding:0;
  outline:none;
  
}

.namebartext {
  position: fixed;  
  right: 8%;
  top:2.5%;
  height: 5%;
  border: 0px;
  background: #ffffff;
  text-align: center;
  color: #000000;
  border-radius: 0px;
  font-family: 'Roboto';
  font-size: 16px;
  padding:0;
  
}	


.loader {
  border: 16px solid green;
  border-radius: 50%;
  margin-left:45%;
  position:relative;
  align:center;
  float:center;
  border-top: 16px solid brown;
  border-bottom: 16px solid blue;
  border-left: 16px solid red;
  width: 60px;
  height: 60px;
  -webkit-animation: spin 1s linear infinite; /* Safari */
  animation: spin 1s linear infinite;
}

/* Safari */
@-webkit-keyframes spin {
  0% { -webkit-transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); }
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/*Resize the wrap to see the search bar change!*/
}
.wrap{
  width: 80%;
  position: relative;
  top: 10%;
  left: 50%;
  transform: translate(-50%, -50%);
}

/*Resize the wrap to see the table change!*/
.resulttable{
  width: 50%;
  float: top;
  text-align: center;
  align: center;
  position: absolute;
  top: 75%;
  padding-bottom:4%;
  left: 25%;
  font-size:90%;
}

a{
	color : black;
	text-decoration: none;
}


button:disabled,
button[disabled]{
  border: 1px solid #999999;
  background-color: #cccccc;
  color: #666666;
}

/*Resize the wrap to see the head change!*/
.head{
  width: 100%;
  position: relative;
  text-align: center;
  top: 5%;
  left: 50%;
  transform: translate(-50%, -50%);
}

div {
    display: block;
}
#wrapper {

    width: 100%;
    height:100%;
}


#first {
    float:left;
    width: 25%;
    height: 100%;
	margin-left:2%;
}
#second {
    float:center;
	align:center;
    width: 40%;
	margin-left:30%;
    height: 100%;

}
#third {
	position:fixed;
    width: 100%;
	bottom:0%;
    height: 6%;
	background: #D9D9D9 ;
}

.round{
  border-radius: 8px 8px 8px 8px;

}

::placeholder {
  color:D9D9D9;
}

.fontRoboto{
font-family: Roboto;
}





</style>
<div class='fontRoboto'>
   <body align='center'>
   <a href="\loginpage"> <button type="submit" class="loginbarButton" id='loginbar'>Login</button></a>
   <a href="\signup"> <button type="submit" class="signupbarButton" id='signupbar'>Sign Up</button></a>
   <button type="submit" class="signupbarButton" id='Logout' style="display: none;">Logout</button>
   <div id='namebar' class="namebartext" style="display: none;"></div>
   <div id="wrapper">

    <div id="second">
	  <br>


      <div class="head">
		 <a href="\"> <button type="submit" class="homebarButton" style='margin-left:30%;'><img src="/static/logo.png" style='height:250px; width:250px;' alt="logo"></button></a>
		<!-- <h2 style='font-size:40;' class='fontRoboto'> Lokly Address Parser </h2> -->
	  </div>

	  <br>
	  <br>
	  <br>
	  <br>
	  <br>
	  <br>
	  <br>
	  <br>
	  <br>
	  <br>
	  
      <div class="wrap">
		<div class="search">
   
			<input type="text" style=' color:black; font-size:90% ;padding-left: 12px;' class="searchTerm round fontRoboto" placeholder="Enter the Address..." name="search" id="search">
		    <button type="submit" class="parseButton round  fontRoboto" id='Parse'>Parse
	    	 </button>
		</div>
	  </div>
	  <br>
	  <br>
	  <div id='Address_error' style="display:None; color:red; font-size:17px;"> </div>

		    <button type="reset" class="resetButton round  fontRoboto" style='font-size:22px' id="Reset">Reset
		   </button>
	  <br>
	  <br>

		   <div id='searches' style='color:black ;font-size:18px'>You have consumed {{ already_used }} out of 10 searches.</div>


	  </div>
	  </div>

      <div class=resulttable>
	  <div id="Address_output" style="display:None;"></div>
	  <div id='loading' class='loader' style="display:None;"></div>
	</div>
	</div>
	  <div id='third' >
	  <div style='padding-top:0.5%; '>
		<a href='\about' style='padding-right:10%; '>About Us</a><a href='\contact' style='padding-right:10%'>Contact Us</a>Terms and Conditions
	  </div>
	  </div>
      <script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>

  <script type="text/javascript">
      $('button#Parse').click(function(){
	    document.getElementById("Parse").disabled = true;
	    $('div#Address_output').html('');
		if (document.getElementById('search').value=='')
		{
		}
		else
		{

	    $('#Address_error').hide();
	    $('#loading').show();
		$('#Search_Another').hide();
        $.ajax({
			url: "/_get_data?address="+document.getElementById('search').value+"&user_id="+sessionStorage.getItem("app_user"),
            success: function(resp){
				if (resp.data)
				{
				 $('#Address_error').html(resp.data);
				 $('#Address_error').show();
				}				
				else				
				{
				document.getElementById("Parse").disabled = false;
				$('#Address_error').hide();
				$('#searches').html('You have consumed '+resp.queries+' out of '+resp.limit+' searches.');
                $('div#Address_output').html(resp.Parsed_address);
				$('#Address_output').show();
				$('#Search_Another').show();
            }
				    $('#loading').hide();
			}			
        });

      }
      });
		$('button#Reset').click(function(){
                $('div#Address_output').html('');
				document.getElementById("search").value = '';
      });

      $('button#Logout').click(function(){
       $.ajax({
            url: "/_logout",
            type: "GET",
            success: function(resp){
				sessionStorage.setItem("app_user",'Guest');
				$('#searches').html('You have consumed '+resp.queries+' out of '+resp.limit+' searches.');
				$('#signupbar').show();
				$('#Logout').hide();
				$('#namebar').hide();
				$('#loginbar').show();
                $('div#Address_output').html('');
				document.getElementById("search").value = '';
            
            }
        });
      });
	  var user = sessionStorage.getItem("app_user");
	  if (user!='Guest' && user!=null)
	  {

		$.ajax({
            url: "/refresh?&user_id="+user,
            type: "GET",
            success: function(resp){
				if (resp.data)
				{
				$('#Login_error').html(resp.data);
				$('#Login_error').show();
				
				}				
				else				
				{
				$('#searches').html('You have consumed '+resp.queries+' out of '+resp.limit+' searches. ');
				$('#signupbar').hide();
				$('#Login_error').hide();
				$('#loginbar').hide();
				$('#Logout').show();
				$('#namebar').html(resp.name);
				$('#namebar').show();
				}


            }
        });
    };
	if (user=='Guest' || user==null)
	{
	    $.ajax({
        url: "/_logout",
        type: "GET",
        success: function(resp){
			sessionStorage.setItem("app_user",'Guest');
			$('#searches').html('You have consumed '+resp.queries+' out of '+resp.limit+' searches.');
			$('#signupbar').show();
			$('#Logout').hide();
			$('#namebar').hide();
			$('#loginbar').show();
            $('div#Address_output').html('');
			document.getElementById("search").value = '';
            
            }
        });
      };


  </script>
  </body>
   
</html>